webpackJsonp([4],{ZTsT:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),s=i.n(a),o=i("vgQg"),n=i("PJh5"),l=i.n(n),r=JSON.parse(sessionStorage.getItem("affiliateRole")),c={data:function(){return{success:!1,profile:{},profileCountryName:null,profileStateName:null,profileCityName:null,address:{},continents:[],continentSelected:null,countries:[],countrySelected:null,states:[],stateSelected:null,cities:[],inputActive:!1,textActive:!0,btnEdit:!0,btnCancel:!1,btnSave:!1,search:"",notifications:!1,affiliates:[],affiliateToGetNotification:null,notification_configuration:[]}},methods:{getProfile:function(){var t=this;this.$http.get("url",{headers:Object(o.a)()},{emulateJSON:!0}).then(function(e){t.profile=e.data}).catch(function(e){t.error=t.$i18n.t("error.permission")})},getZipCode:function(t){var e=this;this.$http.get("https://viacep.com.br/ws/"+t+"/json/").then(function(t){e.address=t.data,e.profile.zipcode=t.data.cep,e.profile.city=t.data.localidade,e.profile.address_line_1=t.data.logradouro,e.profile.address_line_2=t.data.complemento,console.log(t.data)}).catch(function(t){e.error=e.$i18n.t("error.permission")})},getContinents:function(){var t=this;this.$http.get("http://www.geonames.org/childrenJSON?geonameId=6295630").then(function(e){t.continents=e.data.geonames;for(var i=0;i<t.continents.length;i++)t.getCountries(t.continents[i].geonameId)}).catch(function(e){t.error=t.$i18n.t("error.permission")})},getCountries:function(t){var e=this;this.$http.get("http://www.geonames.org/childrenJSON?geonameId="+t).then(function(t){for(var i=0;i<t.data.geonames.length;i++)e.countries.push(t.data.geonames[i])}).catch(function(t){e.error=e.$i18n.t("error.permission")})},getStates:function(){for(var t=this,e=0;e<this.countries.length;e++)this.countries[e].name==this.profileCountryName&&(this.countrySelected=this.countries[e].geonameId);console.log(this.countrySelected),this.$http.get("http://www.geonames.org/childrenJSON?geonameId="+this.countrySelected).then(function(e){t.states=e.data.geonames}).catch(function(e){t.error=t.$i18n.t("error.permission")})},getCities:function(){for(var t=this,e=0;e<this.states.length;e++)this.states[e].name==this.profileStateName&&(this.stateSelected=this.states[e].geonameId);console.log(this.stateSelected),this.$http.get("http://www.geonames.org/childrenJSON?geonameId="+this.stateSelected).then(function(e){t.cities=e.data.geonames}).catch(function(e){t.error=t.$i18n.t("error.permission")})},getNotificationConfiguration:function(){var t=this;this.notification_configuration=null,r.affiliate_id&&this.$http.get("url",{headers:Object(o.a)()},{emulateJSON:!0}).then(function(e){t.notification_configuration=e.data}).catch(function(e){t.error=t.$i18n.t("error.permission")})},putNotificationConfiguration:function(){var t=this;console.log(s()(this.affiliateToGetNotification)),console.log(s()(this.notification_configuration)),this.$http.put("url",this.notification_configuration,{headers:Object(o.a)()},{emulateJSON:!0}).then(function(e){t.affiliateToGetNotification=null,t.notification_configuration=[],t.sucessModal("success")}).catch(function(e){t.error=t.$i18n.t("error.permission")})},editInput:function(){this.inputActive=!0,this.textActive=!1,this.btnEdit=!1,this.btnCancel=!0,this.btnSave=!0,this.notifications=!0},cancel:function(){this.inputActive=!1,this.textActive=!0,this.btnCancel=!1,this.btnSave=!1,this.btnEdit=!0,this.notifications=!1},save:function(){this.putProfile(),this.inputActive=!1,this.textActive=!0,this.btnCancel=!1,this.btnSave=!1,this.btnEdit=!0,this.notifications=!1},putProfile:function(){var t=this,e={id:this.profile.id,email:this.profile.email,password:this.profile.password,username:this.profile.username,phone:this.profile.phone,theme:this.profile.theme,city:this.profileCityName,state:this.profileStateName,country:this.profileCountryName,zipcode:this.profile.zipcode,rg:this.profile.rg,cpf:this.profile.cpf,gender:this.profile.gender,first_name:this.profile.first_name,last_name:this.profile.last_name,profile_picture:this.profile.profile_picture,background_picture:this.profile.background_picture,address_line_1:this.profile.address_line_1,address_line_2:this.profile.address_line_2,birth_date:this.profile.birth_date,user_id:this.profile.user_id};this.$http.put("url",e,{headers:Object(o.a)()},{emulateJSON:!0}).then(function(e){t.getProfile()}).catch(function(e){t.error=t.$i18n.t("error.permission")})},changeColor:function(){this.profile.theme=document.getElementById("theme").value,document.getElementById("theme-label").value=this.profile.theme,console.log(this.profile.theme)},showModal:function(t){this.$modal.show(t)},hideModal:function(t){this.$modal.hide(t)},toggleShow:function(){this.show=!this.show},cropSuccess:function(t,e){console.log("-------- crop success --------"),this.imgDataUrl=t},cropUploadSuccess:function(t,e){console.log("-------- upload success --------"),console.log(t),console.log("field: "+e)},cropUploadFail:function(t,e){console.log("-------- upload fail --------"),console.log(t),console.log("field: "+e)}},mounted:function(){this.getContinents()},filters:{moment:function(t){return l()(t).format("MMMM Do YYYY, h:mm:ss a")}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[i("div",{attrs:{id:"page-content-layout"}},[i("div",{staticClass:"container-fluid container-content"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("h3",[t._v(t._s(t.$t("title.profile")))]),t._v(" "),i("hr")])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-2"},[i("img",{attrs:{src:t.profile.profile_picture,id:"profile_picture"}})]),t._v(" "),i("div",{staticClass:"col-md-8",attrs:{id:"box-information"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-m-12"},[i("div",{staticClass:"btn-group pull-right",attrs:{role:"group"}},[i("button",{staticClass:"btn btn-default btn-sm btn-edit",class:{btnActive:t.btnEdit},on:{click:function(e){t.editInput()}}},[i("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("button",{staticClass:"btn btn-default btn-sm btn-cancel btn-danger",class:{btnActive:t.btnCancel},on:{click:function(e){t.cancel(),t.showModal("attention")}}},[i("i",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("button",{staticClass:"btn btn-default btn-sm btn-save btn-success",class:{btnActive:t.btnSave},on:{click:function(e){t.save(),t.showModal("success")}}},[i("i",{staticClass:"fa fa-save",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.fname"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.first_name))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.first_name,expression:"profile.first_name"}],staticClass:"form-control input-edit",class:{active:t.inputActive},attrs:{type:"text"},domProps:{value:t.profile.first_name},on:{input:function(e){e.target.composing||t.$set(t.profile,"first_name",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.lname"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.last_name))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.last_name,expression:"profile.last_name"}],staticClass:"form-control input-edit",class:{active:t.inputActive},attrs:{type:"text"},domProps:{value:t.profile.last_name},on:{input:function(e){e.target.composing||t.$set(t.profile,"last_name",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.email"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.email))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.email,expression:"profile.email"}],staticClass:"form-control input-edit",class:{active:t.inputActive},attrs:{type:"text"},domProps:{value:t.profile.email},on:{input:function(e){e.target.composing||t.$set(t.profile,"email",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.birth"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.birth_date))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.birth_date,expression:"profile.birth_date"}],staticClass:"form-control input-edit",class:{active:t.inputActive},attrs:{type:"date"},domProps:{value:t.profile.birth_date},on:{input:function(e){e.target.composing||t.$set(t.profile,"birth_date",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6",attrs:{id:"gender"}},[i("label",[t._v(t._s(t.$t("attribute.gender"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.gender))]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"input-edit",class:{active:t.inputActive}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.gender,expression:"profile.gender"}],attrs:{type:"radio",value:"MALE",required:""},domProps:{checked:t._q(t.profile.gender,"MALE")},on:{change:function(e){t.$set(t.profile,"gender","MALE")}}}),t._v(t._s(t.$tc("enum.gender",1)))]),t._v(" "),i("label",{staticClass:"input-edit",class:{active:t.inputActive}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.gender,expression:"profile.gender"}],attrs:{type:"radio",value:"FEMALE",required:""},domProps:{checked:t._q(t.profile.gender,"FEMALE")},on:{change:function(e){t.$set(t.profile,"gender","FEMALE")}}}),t._v(t._s(t.$tc("enum.gender",0)))]),t._v(" "),i("label",{staticClass:"input-edit",class:{active:t.inputActive}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.gender,expression:"profile.gender"}],attrs:{type:"radio",value:"UNINFORMED",required:""},domProps:{checked:t._q(t.profile.gender,"UNINFORMED")},on:{change:function(e){t.$set(t.profile,"gender","UNINFORMED")}}}),t._v(t._s(t.$tc("enum.gender",2)))])])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.theme"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive},style:{background:t.profile.theme},attrs:{id:"theme-label"}}),t._v(" "),i("input",{staticClass:"input-edit",class:{active:t.inputActive},attrs:{type:"color",id:"theme"},domProps:{value:t.profile.theme},on:{change:function(e){t.changeColor()}}})])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.phone"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.phone))]),t._v(" "),i("the-mask",{staticClass:"form-control input-edit",class:{active:t.inputActive},attrs:{mask:["(##) # ####-####","(##) ####-####"]},model:{value:t.profile.phone,callback:function(e){t.$set(t.profile,"phone",e)},expression:"profile.phone"}})],1),t._v(" "),i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.zipcode"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.zipcode))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.zipcode,expression:"profile.zipcode"}],staticClass:"form-control input-edit",class:{active:t.inputActive},attrs:{type:"text"},domProps:{value:t.profile.zipcode},on:{change:function(e){t.getZipCode(t.profile.zipcode)},input:function(e){e.target.composing||t.$set(t.profile,"zipcode",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("label",[t._v(t._s(t.$t("attribute.country"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive},model:{value:t.profile.country,callback:function(e){t.$set(t.profile,"country",e)},expression:"profile.country"}},[t._v(t._s(t.profile.country))]),t._v(" "),i("div",{staticClass:"form-group input-edit",class:{active:t.inputActive}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.profileCountryName,expression:"profileCountryName"}],staticClass:"form-control",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.profileCountryName=e.target.multiple?i:i[0]},t.getStates]}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),i("option",{attrs:{value:"",disabled:""}},[t._v(t._s(t.$tc("prompt.select",0))+":")]),t._v(" "),t._l(t.countries,function(e){return i("option",[t._v(t._s(e.name))])})],2)])]),t._v(" "),i("div",{staticClass:"col-md-4"},[i("label",[t._v(t._s(t.$t("attribute.state"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.state))]),t._v(" "),i("div",{staticClass:"form-group input-edit",class:{active:t.inputActive}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.profileStateName,expression:"profileStateName"}],staticClass:"form-control",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.profileStateName=e.target.multiple?i:i[0]},t.getCities]}},[i("option",{attrs:{value:"",disabled:""}},[t._v(t._s(t.$tc("prompt.select",0))+":")]),t._v(" "),t._l(t.states,function(e){return i("option",[t._v(t._s(e.name))])})],2)])]),t._v(" "),i("div",{staticClass:"col-md-4"},[i("label",[t._v(t._s(t.$t("attribute.city"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.city))]),t._v(" "),i("div",{staticClass:"form-group input-edit",class:{active:t.inputActive}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.profileCityName,expression:"profileCityName"}],staticClass:"form-control",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.profileCityName=e.target.multiple?i:i[0]}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),i("option",{attrs:{value:"",disabled:""}},[t._v(t._s(t.$tc("prompt.select",0))+":")]),t._v(" "),t._l(t.cities,function(e){return i("option",[t._v(t._s(e.name))])})],2)])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.address1"))+":")]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.address_line_1))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.address_line_1,expression:"profile.address_line_1"}],staticClass:"form-control input-edit",class:{active:t.inputActive},attrs:{type:"text"},domProps:{value:t.profile.address_line_1},on:{input:function(e){e.target.composing||t.$set(t.profile,"address_line_1",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("label",[t._v(t._s(t.$t("attribute.address2")))]),t._v(" "),i("div",{staticClass:"text-edit",class:{active:t.textActive}},[t._v(t._s(t.profile.address_line_2))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.address_line_2,expression:"profile.address_line_2"}],staticClass:"form-control input-edit",class:{active:t.inputActive},attrs:{type:"text"},domProps:{value:t.profile.address_line_2},on:{input:function(e){e.target.composing||t.$set(t.profile,"address_line_2",e.target.value)}}})])]),t._v(" "),t.notifications?i("div",[i("hr"),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("h4",[t._v(t._s(t.$tc("attribute.notification",2)))])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12 table-responsive",staticStyle:{"max-height":"400px"}},[i("table",{staticClass:"table table-striped table-hover"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.$tc("attribute.notification",1)))]),t._v(" "),i("th",[t._v(t._s(t.$t("attribute.permission")))]),t._v(" "),i("th",[t._v(t._s(t.$t("button.save")))])])]),t._v(" "),i("tbody",t._l(t.notification_configuration,function(e){return i("tr",[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.allowed,expression:"conf.allowed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.allowed)?t._i(e.allowed,null)>-1:e.allowed},on:{change:function(i){var a=e.allowed,s=i.target,o=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&t.$set(e,"allowed",a.concat([null])):n>-1&&t.$set(e,"allowed",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(e,"allowed",o)}}}),t._v(" "+t._s(e.allowed))])]),t._v(" "),i("td",[i("button",{staticClass:"btn btn-sm",on:{click:t.putNotificationConfiguration}},[i("i",{staticClass:"fa fa-floppy-o fa-lg",attrs:{"aria-hidden":"true"}})])])])}))])])])]):t._e()])])]),t._v(" "),i("modal",{attrs:{name:"attention",adaptive:!0,width:400,height:100}},[i("div",{staticClass:"modal-example"},[i("center",[i("h4",[t._v(t._s(t.$t("info.save"))+"   "),i("i",{staticClass:"fa fa-exclamation-triangle",staticStyle:{color:"#e67e22"},attrs:{"aria-hidden":"true"}})])])],1)]),t._v(" "),i("modal",{attrs:{name:"success",adaptive:!0,width:400,height:100}},[i("div",{staticClass:"modal-example"},[i("center",[i("h4",[t._v(t._s(t.$t("info.success"))+"   "),i("i",{staticClass:"fa fa-smile-o",staticStyle:{color:"#27ae60"},attrs:{"aria-hidden":"true"}})])])],1)])],1)])},staticRenderFns:[]};var v=i("VU/8")(c,d,!1,function(t){i("fhEr")},"data-v-3fbe279e",null);e.default=v.exports},fhEr:function(t,e){}});
//# sourceMappingURL=4.c6bf879e3ba9d5292e86.js.map